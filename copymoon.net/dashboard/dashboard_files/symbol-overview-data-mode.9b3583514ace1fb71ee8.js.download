(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[82869],{91679:(e,t)=>{"use strict";t.WatchedValue=void 0;var o=function(){function e(e,t){void 0===t&&(t={}),this._listeners=[],void 0!==e&&(this._value=e),this._onDestroy=t.onDestroy}return e.prototype.destroy=function(){this.unsubscribe(),delete this._value,delete this._readonlyInstance,this._onDestroy&&this._onDestroy()},e.prototype.value=function(){return this._value},e.prototype.setValue=function(e,t){var o=this._value===e||Number.isNaN(this._value)&&Number.isNaN(e);!t&&o||(this._value=e,this._notifyListeners())},e.prototype.subscribe=function(e,t){var o,n,s=this;if(!(null===(o=null==t?void 0:t.signal)||void 0===o?void 0:o.aborted)){if((null==t?void 0:t.callWithLast)&&void 0!==this._value){try{e(this._value)}catch(e){t.onError&&t.onError(e)}if(t.once)return}(null==t?void 0:t.signal)&&t.signal.addEventListener("abort",(function(){s.unsubscribe(e)}),{once:!0}),this._listeners.push({callback:e,signal:null==t?void 0:t.signal,once:null!==(n=null==t?void 0:t.once)&&void 0!==n&&n,onError:null==t?void 0:t.onError})}},e.prototype.unsubscribe=function(e){for(var t=this._listeners.length;t--;){e!==this._listeners[t].callback&&void 0!==e||this._listeners.splice(t,1)}},e.prototype.readonly=function(){return this._readonlyInstance||(this._readonlyInstance=new s(this)),this._readonlyInstance},e.prototype.when=function(e,t){var o,n=this;if(!e)return new Promise((function(e,t){if(void 0===n._value){var o=function(t){void 0!==t&&(e(t),n.unsubscribe(o))};n.subscribe(o,{onError:t})}else e(n._value)}));if(!(null===(o=null==t?void 0:t.signal)||void 0===o?void 0:o.aborted))if(void 0===this._value){var s=function(t){void 0!==t&&(e(t),n.unsubscribe(s))};this.subscribe(s,t)}else try{e(this._value)}catch(e){(null==t?void 0:t.onError)&&t.onError(e)}},e.prototype._notifyListeners=function(){for(var e,t,o=0,n=this._listeners;o<n.length;o++){var s=n[o];if((s.once||(null===(e=s.signal)||void 0===e?void 0:e.aborted))&&this.unsubscribe(s.callback),!(null===(t=s.signal)||void 0===t?void 0:t.aborted))try{s.callback(this._value)}catch(e){s.onError&&s.onError(e)}}},e}();t.WatchedValue=o;var n="Using destroyed WatchedValueReadonly instance is not allowed",s=function(){function e(e){this._owner=e}return e.prototype.value=function(){var e;if(!this._owner)throw new Error(n);return null===(e=this._owner)||void 0===e?void 0:e.value()},e.prototype.destroy=function(){delete this._owner},e.prototype.subscribe=function(e,t){if(!this._owner)throw new Error(n);this._owner.subscribe(e,t)},e.prototype.unsubscribe=function(e){if(!this._owner)throw new Error(n);this._owner.unsubscribe(e)},e.prototype.when=function(e,t){if(!this._owner)throw new Error(n);return void 0!==e?this._owner.when(e,t):this._owner.when()},e}()},489928:e=>{e.exports={}},129592:(e,t,o)=>{"use strict";o.d(t,{createGroup:()=>l,keyboardPressedKeysState:()=>a,pressedKeys:()=>r,registerWindow:()=>d,unregisterWindow:()=>u});var n=o(163586),s=o(764250);o(591800)
;const i=new n.ActionManager,r=i.pressedKeys(),a=i.keyboardPressedKeysState();function l(e){return new s.ActionGroup(i,e)}function d(e){i.listen(e)}function u(e){i.unlisten(e)}},591800:(e,t,o)=>{"use strict";o.d(t,{Modifiers:()=>i,hashFromEvent:()=>a,hashShiftPlusEnter:()=>l,hotkeyHashToAriaKeyshortcuts:()=>_,humanReadableHash:()=>h,humanReadableModifiers:()=>d,isMacKeyboard:()=>s,modifiersFromEvent:()=>r});var n=o(167175);const s=n.isMac||n.isIOS;var i;function r(e){let t=0;return e.shiftKey&&(t+=1024),e.altKey&&(t+=512),e.ctrlKey&&(t+=256),e.metaKey&&(t+=2048),t}function a(e){return r(e)|e.keyCode}!function(e){e[e.None=0]="None",e[e.Alt=512]="Alt",e[e.Shift=1024]="Shift",e[e.Mod=s?2048:256]="Mod",e[e.Control=256]="Control",e[e.Meta=2048]="Meta"}(i||(i={}));const l=/^(25242|32026|37525|45206|46485|53934|88261|99362)$/.test(o.j)?1037:null;function d(e,t=!s){let o="";return 256&e&&(o+=p(s?"^":"Ctrl",t)),512&e&&(o+=p(s?"⌥":"Alt",t)),1024&e&&(o+=p(s?"⇧":"Shift",t)),2048&e&&(o+=p(s?"⌘":"Win",t)),o}const u={9:"⇥",13:"↵",27:"Esc",8:s?"⌫":"Backspace",32:"Space",35:"End",36:"Home",37:"←",38:"↑",39:"→",40:"↓",45:"Ins",46:"Del",188:",",191:"/"},c={9:"Tab",13:"Enter",27:"Esc",8:"Backspace",32:"Space",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Ins",46:"Del",188:",",191:"/"};for(let e=1;e<=16;e++)u[e+111]=`F${e}`,c[e+111]=`F${e}`;function h(e){let t=d(e);const o=255&e;return t+=o in u?u[o]:String.fromCharCode(o),t}function p(e,t){return`${e}${t?" + ":s?" ":""}`}function _(e){const t=[];256&e&&t.push("Ctrl"),512&e&&t.push("Alt"),1024&e&&t.push("Shift"),2048&e&&t.push("Meta");const o=255&e;return o in u?t.push(u[o]):t.push(String.fromCharCode(o)),t.join("+")}},607423:(e,t,o)=>{"use strict";o.d(t,{isNativeUIInteraction:()=>i,isTextEditingField:()=>s});var n=o(591800);function s(e){if("INPUT"===e.tagName){const t=e.type;return"text"===t||"email"===t||"number"===t||"password"===t||"search"===t||"tel"===t||"url"===t}return"TEXTAREA"===e.tagName||e.isContentEditable}function i(e,t){if(!t)return!1;const o=255&e;if(27===o||o>>>4==7)return!1;switch(e^o){case n.Modifiers.Alt:return(38===o||40===o)&&"SELECT"===t.tagName||s(t);case n.Modifiers.Alt+n.Modifiers.Shift:return s(t);case n.Modifiers.Mod:if(67===o||!n.isMacKeyboard&&45===o){const e=t.ownerDocument&&t.ownerDocument.getSelection();if(e&&!e.isCollapsed)return!0}return s(t);case n.Modifiers.Mod+n.Modifiers.Shift:return o>=33&&o<=40&&s(t);case n.Modifiers.Shift:case 0:return 9===o?!(!t.ownerDocument||t===t.ownerDocument.body||t===t.ownerDocument.documentElement):(!function(e){if("BUTTON"===e.tagName)return!0;if("INPUT"===e.tagName){const t=e.type;if("submit"===t||"button"===t||"reset"===t||"checkbox"===t||"radio"===t)return!0}return!1}(t)||13===o||32===o||9===o)&&("form"in t||t.isContentEditable)}return!1}},604286:(e,t,o)=>{"use strict";o.d(t,{hotKeyDeserialize:()=>i,hotKeySerialize:()=>s});var n=o(433524);function s(e){return(0,n.htmlEscape)(JSON.stringify(e))}function i(e){return JSON.parse((0,n.decodeHTMLEntities)(e))}},673747:(e,t,o)=>{
"use strict";o.r(t),o.d(t,{hide:()=>w,show:()=>_,showOnElement:()=>p,tempForceHide:()=>g,tooltipClickHandler:()=>f,updateTooltipText:()=>v});var n=o(778785),s=o(650151),i=o(799786),r=o(112539),a=o(630112),l=o(779527);let d=!1,u=null,c=null;n.mobiletouch||(document.addEventListener("mouseover",m,!0),document.addEventListener("focus",(function(e){const t=e.target;if(!(t instanceof HTMLElement&&t.closest('[data-tooltip-show-on-focus="true"]')&&t.matches(":focus-visible")))return;m(e,!0)}),{capture:!0}),document.addEventListener("active-descendant-focus",(function(e){e.target instanceof HTMLElement&&m(e,!0)}),{capture:!0}));const h=new MutationObserver((()=>{if(u&&u.options.target){let e;e="isConnected"in u.options.target?u.options.target.isConnected:document.body.contains(u.options.target),e||w()}})),p=(e,t={})=>{const{content:o,...n}=S(t),s=l.getDataFromTarget(e),i=Object.assign(s,n);return"none"!==o.type&&(i.content=o),!("none"===i.content.type&&!i.hotkey)&&(i.target=e,_(i),!0)},_=e=>{const t=S(e),o=l.getTooltip(t);if(u={options:t,element:o},(0,a.setTooltip)(o),(0,r.clearSchedule)(),!d)return l.hideTooltip(o),void(0,r.scheduleRender)((()=>E(o)),function(e){return"number"!=typeof e.tooltipDelay||isNaN(e.tooltipDelay)?500:e.tooltipDelay}(t));const{tooltipDebounce:n}=e;"number"!=typeof n||isNaN(n)?E(o):(0,r.scheduleRender)((()=>E(o)),n)},v=e=>l.updateTooltipTextFromTarget(e);function m(e,t){var o;if("sourceCapabilities"in e&&(null===(o=e.sourceCapabilities)||void 0===o?void 0:o.firesTouchEvents))return;const n=function(e,t,o){const n=[];for(;e&&e!==t;)e.classList&&e.classList.contains(o)&&n.push(e),e=e.parentElement||T(e.parentNode);return n}(e.target,e.currentTarget,"apply-common-tooltip");for(const o of n){if(e instanceof MouseEvent)if("buttons"in e){if(1&e.buttons)continue}else if(1===e.which)continue;const n=()=>p(o);if(n()){const e=e=>s(null,!0),s=(i,r=!1)=>{o.removeEventListener("common-tooltip-update",n),o.removeEventListener("mouseleave",s),o.removeEventListener("mousedown",s),document.removeEventListener("scroll",e,{capture:!0}),t&&(o.removeEventListener("blur",s),o.removeEventListener("active-descendant-blur",s)),c&&(c.destroy(),c=null),w(r)};o.addEventListener("common-tooltip-update",n),o.addEventListener("mouseleave",s),o.addEventListener("mousedown",s),document.addEventListener("scroll",e,{capture:!0}),t&&(o.addEventListener("blur",s),o.addEventListener("active-descendant-blur",s)),null===c&&(c=(0,i.createGroup)({desc:"Tooltip"}),c.add({desc:"Hide",hotkey:27,handler:s}));break}}}function f(e){var t;n.mobiletouch&&(p(e.currentTarget,{tooltipDelay:0}),document.addEventListener("scroll",b),document.addEventListener("touchstart",b),window.addEventListener("orientationchange",b),null===(t=window.screen.orientation)||void 0===t||t.addEventListener("change",b))}function b(){var e;document.removeEventListener("scroll",b),document.removeEventListener("touchstart",b),window.removeEventListener("orientationchange",b),null===(e=window.screen.orientation)||void 0===e||e.removeEventListener("change",b),w()}function y(){
(0,a.empty)(),d=!1,u=null}const g=()=>{if((0,r.clearSchedule)(),(0,s.ensureNotNull)(h).disconnect(),!u||!d)return;const{element:e}=u;l.hideTooltip(e),y()},w=(e,t)=>{if((0,r.clearSchedule)(),(0,s.ensureNotNull)(h).disconnect(),!u)return;if(!e&&!d)return;const{element:o,options:n}=u,i=()=>{o.removeEventListener("mouseleave",i),l.hideTooltip(o),e?y():(0,r.scheduleRemove)((()=>{y()}),250),null==t||t()};n.tooltipHideDelay?(0,r.scheduleHide)((()=>{o.querySelector(":hover")?o.addEventListener("mouseleave",i):i()}),n.tooltipHideDelay):i()};function E(e){const{options:t}=(0,s.ensureNotNull)(u);if(l.setStyle(e,t),l.showTooltip(e),(0,s.ensureNotNull)(h).observe(document,{childList:!0,subtree:!0}),d=!0,t.forceHideOnMove){const e=()=>{document.removeEventListener("mousemove",e),document.removeEventListener("touchmove",e),w()};document.addEventListener("mousemove",e),document.addEventListener("touchmove",e)}}function T(e){return e&&(e.nodeType===Node.ELEMENT_NODE?e:null)}function S(e){if(function(e){return"content"in e}(e))return e;const{inner:t,html:o,text:n,...s}=e;let i={type:"none"};return t&&(i={type:"element",data:t}),n&&(i={type:o?"html":"text",data:n}),{content:i,...s}}},780792:(e,t,o)=>{"use strict";o.d(t,{AbstractIndicator:()=>a});var n=o(338619),s=o(79342),i=o(625545);o(673747);const r=(0,n.getLogger)("GUI.Blocks.AbstractIndicator");class a{constructor(e){this._classSuffix="",this._quoteSessionPrefix="abstract-indicator",this._shortMode=!1,this._showTooltip=!0,this._subscribed=!1,this._tooltipType="custom",this._lastTooltipText="",this._quoteSession=e.quoteSession}getValue(){return this._value}getTooltipText(){return this._labelMap[this._value]||""}getLabel(){return this._labelMap[this._value]||""}getElement(){return this._el}update(e,t){this._updateValue(e,t),this._render()}setTooltipEnabled(e=!1){this._showTooltip!==e&&(this._showTooltip=e,this._renderTooltip())}enableShortMode(){!0!==this._shortMode&&(this._shortMode=!0,this._render())}disableShortMode(){!1!==this._shortMode&&(this._shortMode=!1,this._render())}isShortModeEnabled(){return this._shortMode}start(){!this._subscribed&&this._symbolName&&(this._quoteSession||(this._quoteSession=(0,i.getQuoteSessionInstance)("simple")),this._quoteSession.subscribe(this._getQuoteSessionId(),this._symbolName,this.update.bind(this)),this._subscribed=!0)}stop(){this._subscribed&&this._quoteSession&&this._symbolName&&(this._quoteSession.unsubscribe(this._getQuoteSessionId(),this._symbolName),this._subscribed=!1)}setSessionStatusIcon(e){this._sessionStatusIcon!==e&&(this._sessionStatusIcon=e,this._render())}_init(e){this._el=e.el?e.el:document.createElement("span"),this._el.innerHTML="",this._classMap=e.classMap,this._iconClassMap=e.iconClassMap,this._labelMap=e.labelMap,this._showTooltip=e.showTooltip,this._classSuffix=e.classSuffix,this._symbolName=e.symbol,this._sessionStatusIcon=e.sessionStatusIcon,this._onValueChange=e.onValueChange,e.tooltipType&&(this._tooltipType=e.tooltipType),this._quoteSessionGUID=(0,s.guid)(),!0===e.short&&this.enableShortMode(),
e.data&&this._updateValue(e.data)}_clearClasses(){Object.values(this._classMap).map((e=>{this._el.classList.remove(`${e}`),this._el.classList.remove(`${e}${this._classSuffix}`)}))}_render(){this._renderClasses(),this._renderTooltip(),this._renderLabel()}_renderLabel(){this._el.textContent=this.getLabel()}_updateValue(e,t){var o;const n=this._getValueFromData(e);(t||n!==this._value)&&(this._value=n,null===(o=this._onValueChange)||void 0===o||o.call(this,this._value))}_renderClasses(){const e=this._el.classList;e.add(this._componentClass,this._componentClass+this._classSuffix);const t=this._classMap[this._value];for(const o in this._classMap){const n=this._classMap[o];n&&(n===t?(e.add(n,n+this._classSuffix),this._sessionStatusIcon&&e.add(n+"__withIcon")):(e.remove(n,n+this._classSuffix),this._sessionStatusIcon&&e.remove(n+"__withIcon")))}!t&&this._value&&r.logWarn(`no className for status ${this._value}`)}_renderTooltip(){const e=this._showTooltip?this.getTooltipText():"";e!==this._lastTooltipText&&(this._lastTooltipText=e,this._el.setAttribute("title",e),"custom"===this._tooltipType&&this._el.classList.toggle("apply-common-tooltip",this._showTooltip))}_getQuoteSessionId(){return`${this._quoteSessionPrefix}.${this._quoteSessionGUID}`}}},719240:(e,t,o)=>{"use strict";o.r(t),o.d(t,{DataModeIndicator:()=>l});var n=o(444372),s=(o(466281),o(489928),o(780792));const i={connecting:"tv-data-mode--connecting",delayed:"tv-data-mode--delayed",delayed_streaming:"tv-data-mode--delayed",endofday:"tv-data-mode--endofday",forbidden:"tv-data-mode--forbidden",realtime:"tv-data-mode--realtime",snapshot:"tv-data-mode--snapshot",loading:"tv-data-mode--loading",replay:"tv-data-mode--replay"};function r(){return{connecting:n.t(null,{context:"data_mode_connecting_letter"},o(167040)),delayed:n.t(null,{context:"data_mode_delayed_letter"},o(800919)),delayed_streaming:n.t(null,{context:"data_mode_delayed_streaming_letter"},o(933088)),endofday:n.t(null,{context:"data_mode_end_of_day_letter"},o(918400)),forbidden:n.t(null,{context:"data_mode_forbidden_letter"},o(514149)),realtime:n.t(null,{context:"data_mode_realtime_letter"},o(650940)),snapshot:n.t(null,{context:"data_mode_snapshot_letter"},o(756757)),loading:"",replay:n.t(null,{context:"data_mode_replay_letter"},o(745540))}}const a={streaming:"realtime"};class l extends s.AbstractIndicator{constructor(e){super(e),this._quoteSessionPrefix="data-mode-indicator",this._componentClass="tv-data-mode",this._init(e)}getLabel(){return!0===this._shortMode?this._shortLabelMap[this._value]||"":super.getLabel()}setMode(e,t){this.update({values:{update_mode:e,update_mode_seconds:t}})}hide(){this._el.classList.add("i-hidden")}show(){this._el.classList.remove("i-hidden")}getTooltipText(){let e="";const t=this.getValue();if(""===t)return e;switch(t){case"delayed":e=n.t(null,void 0,o(369539));break;case"delayed_streaming":e=n.t(null,void 0,o(167476));break;default:e=this._labelMap[t]||e}return["delayed","delayed_streaming"].includes(t)&&(e=e.format({number:String(Math.round(this._modeInterval/60))})),e}
_init(e={}){const t=Object.assign({},{classMap:i,classSuffix:"",data:{values:{update_mode:"connecting"}},labelMap:{connecting:n.t(null,void 0,o(366891)),delayed:n.t(null,void 0,o(739688)),delayed_streaming:n.t(null,void 0,o(739688)),endofday:n.t(null,void 0,o(328304)),forbidden:n.t(null,void 0,o(909161)),realtime:n.t(null,void 0,o(303058)),snapshot:n.t(null,void 0,o(988408)),loading:"",replay:n.t(null,void 0,o(38822))},modeInterval:600,short:!1,shortLabelMap:r(),showTooltip:!0,tooltipType:"custom"},e);this._modeInterval=t.modeInterval||600,this._shortLabelMap=t.shortLabelMap||r(),super._init(t),this._render()}_getValueFromData(e){let t;return t=void 0!==e.values&&void 0!==e.values.update_mode?e.values.update_mode:this.getValue(),a[t]||t}_updateValue(e,t){void 0!==e.values&&void 0!==e.values.update_mode_seconds&&(this._modeInterval=e.values.update_mode_seconds),super._updateValue(e,t)}}},251954:(e,t,o)=>{"use strict";o.r(t),o.d(t,{emit:()=>h,emitOnce:()=>p,on:()=>d,subscribe:()=>u,subscribeToAll:()=>c,unsubscribe:()=>a,unsubscribeAll:()=>l});var n=o(942634);const s={},i=[],r={};function a(e,t,o){s[e].unsubscribe(o,t)}function l(e,t){s[e].unsubscribeAll(t)}function d(e,t,o){u(e,t,o)}function u(e,t,o,i){s.hasOwnProperty(e)||(s[e]=new n.Delegate),r[e]?t.call(o):s[e].subscribe(o,t,i)}function c(e){i.push(e)}function h(e,...t){const o=[e].concat(t);i.forEach((e=>{e.apply(null,o)})),s.hasOwnProperty(e)&&s[e].fire.apply(s[e],t)}function p(e){r[e]&&console.warn(`Something went wrong: emitOnce called multiple times with same event (${e})`),r[e]=!0,h.apply(null,arguments)}},799786:(e,t,o)=>{"use strict";o.r(t),o.d(t,{Modifiers:()=>i.Modifiers,createGroup:()=>n.createGroup,keyboardPressedKeysState:()=>n.keyboardPressedKeysState,pressedKeys:()=>n.pressedKeys,registerWindow:()=>n.registerWindow,unregisterWindow:()=>n.unregisterWindow});var n=o(129592),s=o(764250),i=o(591800),r=o(345848);(0,n.registerWindow)(window),s.ActionGroup.setMatchedHotkeyHandler((e=>{(0,r.trackEvent)("Keyboard Shortcuts",(0,i.humanReadableHash)(e))}))},345848:(e,t,o)=>{"use strict";o.d(t,{trackEvent:()=>r});o(251954);var n=o(764829);const s=(0,o(338619).getLogger)("Common.TrackEvent");let i=!1;const r=(e,t,o)=>{if(i)return;let r=(e?e+":":"")+t;o&&(r+=" "+o),s.logNormal(r),n.enabled("widget")||!window._UNIT_TESTS&&window.gtag&&window.gtag("event",t,{event_category:e,event_label:o})};"undefined"!=typeof window&&(window.TradingView=window.TradingView||{},window.TradingView.trackEvent=r)}}]);