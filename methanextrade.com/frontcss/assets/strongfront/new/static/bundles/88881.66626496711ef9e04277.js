(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[88881],{668477:e=>{e.exports={"common-tooltip":"common-tooltip-EJBD96zX","common-tooltip--hidden":"common-tooltip--hidden-EJBD96zX","common-tooltip--horizontal":"common-tooltip--horizontal-EJBD96zX","common-tooltip--farther":"common-tooltip--farther-EJBD96zX","common-tooltip--vertical":"common-tooltip--vertical-EJBD96zX","common-tooltip-farther":"common-tooltip-farther-EJBD96zX","common-tooltip--direction_normal":"common-tooltip--direction_normal-EJBD96zX","common-tooltip__body":"common-tooltip__body-EJBD96zX","common-tooltip__button-container":"common-tooltip__button-container-EJBD96zX","common-tooltip__body--no-buttons":"common-tooltip__body--no-buttons-EJBD96zX","common-tooltip__button":"common-tooltip__button-EJBD96zX","common-tooltip--direction_reversed":"common-tooltip--direction_reversed-EJBD96zX","common-tooltip__ear-holder":"common-tooltip__ear-holder-EJBD96zX","common-tooltip__ear-holder--below":"common-tooltip__ear-holder--below-EJBD96zX","common-tooltip__ear-holder--above":"common-tooltip__ear-holder--above-EJBD96zX","common-tooltip__ear-holder--before":"common-tooltip__ear-holder--before-EJBD96zX","common-tooltip__ear-holder--after":"common-tooltip__ear-holder--after-EJBD96zX","common-tooltip__body--with-hotkey":"common-tooltip__body--with-hotkey-EJBD96zX","common-tooltip__body--width_wide":"common-tooltip__body--width_wide-EJBD96zX","common-tooltip__body--width_narrow":"common-tooltip__body--width_narrow-EJBD96zX","common-tooltip__body--no-padding":"common-tooltip__body--no-padding-EJBD96zX","common-tooltip__hotkey-block":"common-tooltip__hotkey-block-EJBD96zX","common-tooltip__hotkey-block--divider":"common-tooltip__hotkey-block--divider-EJBD96zX","common-tooltip__hotkey-text":"common-tooltip__hotkey-text-EJBD96zX","common-tooltip__hotkey-button":"common-tooltip__hotkey-button-EJBD96zX","common-tooltip__plus-sign":"common-tooltip__plus-sign-EJBD96zX"}},764250:(e,t,o)=>{"use strict";o.d(t,{ActionGroup:()=>i});class n{constructor(e,t){this._group=e;const{hotkey:o,handler:n,desc:i,isDisabled:r,element:s=null,isRepeatAccepted:a=!1}=t;this.hotkey=o,this.handler=n,this.desc=i,this.element=s,this.isRepeatAccepted=a,this.isDisabled=r?"function"==typeof r?r:()=>!0:()=>!1}destroy(){this._group&&(this._group.remove(this),this._group=null)}}class i{constructor(e,t){this._actions=new Map,this._manager=e,this.modal=!(!t||!t.modal),t&&(this.desc=t.desc),t&&t.isDisabled?"function"==typeof t.isDisabled?this.isDisabled=t.isDisabled:this.isDisabled=()=>!0:this.isDisabled=()=>!1,this._manager.registerGroup(this)}add(e){let t=this._actions.get(e.hotkey);t||(t=[],this._actions.set(e.hotkey,t));const o=new n(this,e);return t.push(o),o}remove(e){const t=this._actions.get(e.hotkey);if(!t)return;const o=t.findIndex((t=>t===e));o>=0&&(1===t.length?this._actions.delete(e.hotkey):t.splice(o,1))}handleHotkey(e,t){const o=this._actions.get(e);if(!o)return!1
;for(const n of o)if((!n.element||t.target&&n.element.contains(t.target))&&!n.isDisabled())return t.repeat&&!n.isRepeatAccepted||(n.handler(t),this._callMatchedHotkeyHandler(e)),t.preventDefault(),!0;return!1}promote(){this._manager.promoteGroup(this)}destroy(){this._actions.clear(),this._manager.unregisterGroup(this)}static setMatchedHotkeyHandler(e){i._matchedHotkeyHandler=e}_callMatchedHotkeyHandler(e){i._matchedHotkeyHandler&&i._matchedHotkeyHandler(e)}}},233346:(e,t,o)=>{"use strict";o.d(t,{createGroup:()=>m,keyboardPressedKeysState:()=>u,pressedKeys:()=>l,registerWindow:()=>h,unregisterWindow:()=>p});var n=o(91679),i=o(591800),r=o(607423);class s{constructor(e,t){this.modifiers=e,this.code=t}altOrOptionCode(){return"AltLeft"===this.code||"AltRight"===this.code}controlOrMetaCode(){return i.isMacKeyboard?"MetaLeft"===this.code||"MetaRight"===this.code||"OSLeft"===this.code||"OSRight"===this.code:"ControlLeft"===this.code||"ControlRight"===this.code}}class a extends n.WatchedValue{setValue(e,t){const o=this.value();(t||void 0===o||o.code!==e.code||o.modifiers!==e.modifiers)&&super.setValue(e)}}var c=o(764250);const d=new class{constructor(){this._groups=[],this._pressedKeys=new n.WatchedValue(0),this._keyboardPressedKeysState=new a(new s(0)),this._keyDownListener=e=>{if(e.defaultPrevented)return;const t=(0,i.hashFromEvent)(e);if(this._pressedKeys.setValue(t),this._keyboardPressedKeysState.setValue(new s((0,i.modifiersFromEvent)(e),e.code)),!(0,r.isNativeUIInteraction)(t,e.target))for(let o=this._groups.length;o-- >0;){const n=this._groups[o];if(!n.isDisabled()){if(n.handleHotkey(t,e))return;if(n.modal)return}}},this._keyUpListener=e=>{const t=(0,i.hashFromEvent)(e);this._pressedKeys.setValue(t),this._keyboardPressedKeysState.setValue(new s((0,i.modifiersFromEvent)(e),""))},this._blurEvent=()=>{this._pressedKeys.setValue(0),this._keyboardPressedKeysState.setValue(new s(0,""))},this._mouseEvent=e=>{var t;const o=(0,i.modifiersFromEvent)(e),n=255&(null!==(t=this._pressedKeys.value())&&void 0!==t?t:0);this._pressedKeys.setValue(o|n)}}listen(e){e.addEventListener("keydown",this._keyDownListener),e.addEventListener("keyup",this._keyUpListener),e.addEventListener("blur",this._blurEvent),e.addEventListener("mousemove",this._mouseEvent)}unlisten(e){e.removeEventListener("keydown",this._keyDownListener),e.removeEventListener("keyup",this._keyUpListener),e.removeEventListener("blur",this._blurEvent),e.removeEventListener("mousemove",this._mouseEvent)}registerGroup(e){this._groups.push(e)}unregisterGroup(e){for(let t=this._groups.length;t--;)this._groups[t]===e&&this._groups.splice(t,1)}promoteGroup(e){let t=this._groups.length-1;for(let o=this._groups.length;o--;){if(this._groups[o]===e)return void(o!==t&&(this._groups.splice(o,1),this._groups.splice(t,0,e)));this._groups[o].modal&&(t=o-1)}}pressedKeys(){return this._pressedKeys.readonly()}keyboardPressedKeysState(){return this._keyboardPressedKeysState.readonly()}},l=d.pressedKeys(),u=d.keyboardPressedKeysState();function m(e){return new c.ActionGroup(d,e)}function h(e){
d.listen(e)}function p(e){d.unlisten(e)}},591800:(e,t,o)=>{"use strict";o.d(t,{Modifiers:()=>r,hashFromEvent:()=>a,hashShiftPlusEnter:()=>c,humanReadableHash:()=>u,humanReadableModifiers:()=>d,isMacKeyboard:()=>i,modifiersFromEvent:()=>s});var n=o(167175);const i=n.isMac||n.isIOS;var r;function s(e){let t=0;return e.shiftKey&&(t+=1024),e.altKey&&(t+=512),e.ctrlKey&&(t+=256),e.metaKey&&(t+=2048),t}function a(e){return s(e)|e.keyCode}!function(e){e[e.None=0]="None",e[e.Alt=512]="Alt",e[e.Shift=1024]="Shift",e[e.Mod=i?2048:256]="Mod",e[e.Control=256]="Control",e[e.Meta=2048]="Meta"}(r||(r={}));const c=1037;function d(e,t=!i){let o="";return 256&e&&(o+=m(i?"^":"Ctrl",t)),512&e&&(o+=m(i?"⌥":"Alt",t)),1024&e&&(o+=m(i?"⇧":"Shift",t)),2048&e&&(o+=m(i?"⌘":"Win",t)),o}const l={9:"⇥",13:"↵",27:"Esc",8:i?"⌫":"Backspace",32:"Space",35:"End",36:"Home",37:"←",38:"↑",39:"→",40:"↓",45:"Ins",46:"Del",188:",",191:"/"};for(let e=1;e<=16;e++)l[e+111]=`F${e}`;function u(e){let t=d(e);const o=255&e;return t+=o in l?l[o]:String.fromCharCode(o),t}function m(e,t){return`${e}${t?" + ":i?" ":""}`}},607423:(e,t,o)=>{"use strict";o.d(t,{isNativeUIInteraction:()=>r,isTextEditingField:()=>i});var n=o(591800);function i(e){if("INPUT"===e.tagName){const t=e.type;return"text"===t||"email"===t||"number"===t||"password"===t||"search"===t||"tel"===t||"url"===t}return"TEXTAREA"===e.tagName||e.isContentEditable}function r(e,t){if(!t)return!1;const o=255&e;if(27===o||o>>>4==7)return!1;switch(e^o){case n.Modifiers.Alt:return(38===o||40===o)&&"SELECT"===t.tagName||i(t);case n.Modifiers.Alt+n.Modifiers.Shift:return i(t);case n.Modifiers.Mod:if(67===o||!n.isMacKeyboard&&45===o){const e=t.ownerDocument&&t.ownerDocument.getSelection();if(e&&!e.isCollapsed)return!0}return i(t);case n.Modifiers.Mod+n.Modifiers.Shift:return o>=33&&o<=40&&i(t);case n.Modifiers.Shift:case 0:return 9===o?!(!t.ownerDocument||t===t.ownerDocument.body||t===t.ownerDocument.documentElement):(!function(e){if("BUTTON"===e.tagName)return!0;if("INPUT"===e.tagName){const t=e.type;if("submit"===t||"button"===t||"reset"===t||"checkbox"===t||"radio"===t)return!0}return!1}(t)||13===o||32===o||9===o)&&("form"in t||t.isContentEditable)}return!1}},499994:(e,t,o)=>{"use strict";o.d(t,{getTooltipData:()=>i,setTooltipData:()=>r});const n=new WeakMap;function i(e,t){const o=n.get(e);return o instanceof Function?o(t):o&&o[t]}function r(e,t,o){if(o instanceof Function)return void n.set(e,o);const i=n.get(e),r=void 0===i||i instanceof Function?{}:i;r[t]=o,n.set(e,r)}},604286:(e,t,o)=>{"use strict";o.d(t,{hotKeyDeserialize:()=>r,hotKeySerialize:()=>i});var n=o(461794);function i(e){return(0,n.clean)(JSON.stringify(e))}function r(e){return JSON.parse((0,n.clean)(e,!0))}},309103:(e,t,o)=>{"use strict";o.r(t),o.d(t,{hide:()=>G,show:()=>X,showOnElement:()=>U,tooltipClickHandler:()=>z,updateTooltipText:()=>R});var n=o(778785);let i=0,r=0,s=0;function a(){clearTimeout(i),clearTimeout(r),clearTimeout(s)}function c(e,t){i=setTimeout(e,t)}const d="tooltip-root-element";let l;function u(){
const e=document.getElementById(d);e?l=e:(l=document.createElement("div"),l.id=d,document.body.appendChild(l))}function m(){l&&(l.innerHTML="")}"interactive"===document.readyState?u():document.addEventListener("DOMContentLoaded",u);var h=o(650151);const p={default:"",white:"theme-white",chart:"theme-chart","round-shadow":"theme-round-shadow"},w=Object.keys(p);var g=o(499994),f=o(604286),v=o(571690),_=o(31341),y=(o(586463),o(777466)),b=o(678515),E=o(638456),k=o(668477);function S(e){const t=e.hasAttribute("data-tooltip")?e.getAttribute("data-tooltip"):e.getAttribute("title");return t&&((0,g.setTooltipData)(e,"text",t),e.removeAttribute("title")),(0,g.getTooltipData)(e,"text")||""}function L(e){const t=V.cloneNode(!0),o=O(t),{content:n}=e;switch(n.type){case"element":o.innerHTML="",o.appendChild(n.data);break;case"html":o.innerHTML=n.data;break;case"text":if(e.hotkey){const e=A.cloneNode(!0);e.innerText=n.data,o.appendChild(e)}else o.innerText=n.data}if(e.hotkey){const t="none"!==n.type,i=P.cloneNode(!0),r=(0,f.hotKeyDeserialize)(e.hotkey),s=r.keys.map((e=>`<span class="${k["common-tooltip__hotkey-button"]}">${e}</span>`));i.innerHTML=function(e,t){const o=/{\d}|{hotkey_\d}/gi;return e.replace(o,(e=>{const o=Number(e.match(/\d/));return t[o]}))}(r.text,s).replace(/\s\+\s/g,`<span class="${k["common-tooltip__plus-sign"]}">+</span>`),o.classList.add(k["common-tooltip__body--with-hotkey"]),t&&i.classList.add(k["common-tooltip__hotkey-block--divider"]),o.appendChild(i)}return t.addEventListener("contextmenu",y.preventDefault),t}function C(e,t){const o=t.rect;if(!o)return;!function(e,t){const o=w.includes(t)?p[t]:"";e.classList.remove(...w.map((e=>p[e])).filter((e=>!!e))),o&&!e.classList.contains(o)&&e.classList.add(o)}(e,t.colorTheme||"default"),t.addClass&&e.classList.add(t.addClass);const n=O(e),i=e.querySelector(`.${k["common-tooltip__button-container"]}`);n.classList.toggle(k["common-tooltip__body--width_wide"],Boolean(t.wide)),n.classList.toggle(k["common-tooltip__body--no-padding"],Boolean(t.noPadding)),n.classList.toggle(k["common-tooltip__body--width_narrow"],Boolean(t.narrow)),n.classList.toggle(k["common-tooltip__body--no-buttons"],!0),n.style.left=D(0),n.style.width=D(n.clientWidth+(Boolean(t.noPadding)?0:2));const r=document.body.clientWidth,s=E.CheckMobile.iOS()||E.CheckMobile.Android()||(0,E.supportTouch)()&&(0,E.isMac)()?window.innerHeight:document.body.clientHeight,a=t.vertical,c=t.extendMargin||a&&o.w<20||!a&&o.h<20;e.classList.toggle(k["common-tooltip--farther"],c),e.classList.toggle(k["common-tooltip--vertical"],a),e.classList.toggle(k["common-tooltip--horizontal"],!a);const d=function(e){return e.querySelector(`.${k["common-tooltip__ear-holder"]}`)}(e),l=e.offsetHeight;if(a){const a=10,c=s-10,u=12,m=a+u,h=c-u,p=(0,b.clamp)(o.y+o.h/2,m,h)-l/2,w=p+l;e.style.left=D(o.x+o.w),e.style.top=D(p),p<a?n.style.top=i.style.top=D(a-p):w>c&&(n.style.top=i.style.top=D(c-w));const{right:g}=(e.querySelector(":last-child")||n).getBoundingClientRect(),f=g+10>r;e.classList.toggle(k["common-tooltip--direction_reversed"],f),
e.classList.toggle(k["common-tooltip--direction_normal"],!f);let v=f?"after":"before";(0,_.isRtl)()?(v=t.otr?"after":v,v=t.otl?"before":v):(v=t.otr?"before":v,v=t.otl?"after":v),d.classList.toggle(k["common-tooltip__ear-holder--before"],"before"===v),d.classList.toggle(k["common-tooltip__ear-holder--after"],"after"===v),"after"===v&&(e.style.left="auto",e.style.right=D(r-o.x))}else{const a=o.x-(n.offsetWidth-o.w)/2,c=r-10-e.offsetWidth,u=Math.max(10,Math.min(a,c));e.style.left=D(u);const m=c<a;e.classList.toggle(k["common-tooltip--direction_reversed"],m),e.classList.toggle(k["common-tooltip--direction_normal"],!m);const h=function(e,t,o,n){if(e.above)return B(t,n)?"above":"below";if(e.below)return function(e,t,o){return o.y+o.h+t+10<e}(t,o,n)?"below":"above";return B(o,n)?"above":"below"}(t,s,l,o);"above"===h?e.style.bottom=D(s-o.y):e.style.top=D(o.y+o.h),d.classList.add("above"===h?k["common-tooltip__ear-holder--above"]:k["common-tooltip__ear-holder--below"]);const{left:p}=n.getBoundingClientRect();let w=Math.trunc(o.x+o.w/2-(p+n.clientWidth/2));e.style.left=D(u+w),e.style.width=D(n.clientWidth+i.clientWidth),w=m?Math.max(0,w):Math.min(0,w),i.style.left=D(-w),n.style.left=D(-w)}}function T(e){e.classList.toggle(k["common-tooltip--hidden"],!0)}function D(e){return`${Math.floor(e)}px`}const x=`\n\t<div id="common-tooltip-wrapper" class="${k["common-tooltip"]}">\n\t\t<div class="${k["common-tooltip__ear-holder"]}" >\n\t\t\t<div class="${k["common-tooltip__body"]} js-tooltip-body"></div>\n\t\t</div>\n\t\t<div class="${k["common-tooltip__button-container"]}"></div>\n\t</div>\n`,N=`\n\t<div class="${k["common-tooltip__hotkey-block"]}"></div>\n`,M=`\n\t<div class="${k["common-tooltip__hotkey-text"]}"></div>\n`,V=(0,v.parseHtmlElement)(x),P=(0,v.parseHtmlElement)(N),A=(0,v.parseHtmlElement)(M);function O(e){return e.querySelector(`.${k["common-tooltip__body"]}`)}function B(e,t){return 10+e<t.y}var $=o(799786);let H=!1,I=null,W=null;n.mobiletouch||document.addEventListener("mouseover",(function(e){var t;if(null===(t=e.sourceCapabilities)||void 0===t?void 0:t.firesTouchEvents)return;const o=e.target,n=e.currentTarget,i=function(e,t,o){const n=[];for(;e&&e!==t;)e.classList&&e.classList.contains(o)&&n.push(e),e=e.parentElement||q(e.parentNode);return n}(o,n,"apply-common-tooltip"),r=()=>{W&&(W.destroy(),W=null)};for(const t of i){if("buttons"in e){if(1&e.buttons)continue}else if(1===e.which)continue;const o=()=>U(t);if(o()){const e=e=>n(null,!0),n=(i,s=!1)=>{t.removeEventListener("common-tooltip-update",o),t.removeEventListener("mouseleave",n),t.removeEventListener("mousedown",n),document.removeEventListener("scroll",e,{capture:!0}),r(),G(s)};t.addEventListener("common-tooltip-update",o),t.addEventListener("mouseleave",n),t.addEventListener("mousedown",n),document.addEventListener("scroll",e,{capture:!0}),null===W&&(W=(0,$.createGroup)({desc:"Tooltip"}),W.add({desc:"Hide",hotkey:27,handler:n}));break}}}),!0);const K=new MutationObserver((()=>{if(I&&I.options.target){let e
;e="isConnected"in I.options.target?I.options.target.isConnected:document.body.contains(I.options.target),e||G()}})),U=(e,t={})=>{const{content:o,...n}=Y(t),i=function(e){const t=S(e),o=e.getBoundingClientRect(),n={h:o.height,w:o.width,x:o.left,y:o.top},i=e.getAttribute("data-color-theme")||"",r=e.classList.contains("common-tooltip-html"),s=parseInt(e.getAttribute("data-tooltip-delay")||""),a=parseInt(e.getAttribute("data-tooltip-debounce")||"");let c={type:"none"};return t&&(c={type:r?"html":"text",data:t}),{above:e.classList.contains("common-tooltip-above"),below:e.classList.contains("common-tooltip-below"),otl:e.classList.contains("common-tooltip-otl"),otr:e.classList.contains("common-tooltip-otr"),vertical:e.classList.contains("common-tooltip-vertical"),hotkey:e.getAttribute("data-tooltip-hotkey"),narrow:e.classList.contains("common-tooltip-narrow"),wide:e.classList.contains("common-tooltip-wide"),colorTheme:i,tooltipDelay:s,tooltipDebounce:a,rect:n,content:c,target:e}}(e),r=Object.assign(i,n);return"none"!==o.type&&(r.content=o),!("none"===r.content.type&&!r.hotkey)&&(r.target=e,X(r),!0)},X=e=>{const t=Y(e),o=L(t);var n;if(I={options:t,element:o},n=o,m(),l&&l.appendChild(n),a(),!H)return T(o),void c((()=>F(o)),function(e){return"number"!=typeof e.tooltipDelay||isNaN(e.tooltipDelay)?500:e.tooltipDelay}(t));const{tooltipDebounce:i}=e;"number"!=typeof i||isNaN(i)?F(o):c((()=>F(o)),i)},R=e=>S(e);function z(e){var t;n.mobiletouch&&(U(e.currentTarget,{tooltipDelay:0}),document.addEventListener("scroll",J),document.addEventListener("touchstart",J),window.addEventListener("orientationchange",J),null===(t=window.screen.orientation)||void 0===t||t.addEventListener("change",J))}function J(){var e;document.removeEventListener("scroll",J),document.removeEventListener("touchstart",J),window.removeEventListener("orientationchange",J),null===(e=window.screen.orientation)||void 0===e||e.removeEventListener("change",J),G()}function j(){m(),H=!1,I=null}const G=e=>{if(a(),K.disconnect(),!I)return;if(!e&&!H)return;const{element:t,options:o}=I,n=()=>{t.removeEventListener("mouseleave",n),T(t),e?j():s=setTimeout((()=>{j()}),250)};var i,c;o.tooltipHideDelay?(i=()=>{t.querySelector(":hover")?t.addEventListener("mouseleave",n):n()},c=o.tooltipHideDelay,r=setTimeout(i,c)):n()};function F(e){const{options:t}=(0,h.ensureNotNull)(I);if(C(e,t),function(e){e.classList.toggle(k["common-tooltip--hidden"],!1)}(e),K.observe(document,{childList:!0,subtree:!0}),H=!0,t.forceHideOnMove){const e=()=>{document.removeEventListener("mousemove",e),document.removeEventListener("touchmove",e),G()};document.addEventListener("mousemove",e),document.addEventListener("touchmove",e)}}function q(e){return e&&(e.nodeType===Node.ELEMENT_NODE?e:null)}function Y(e){if(function(e){return"content"in e}(e))return e;const{inner:t,html:o,text:n,...i}=e;let r={type:"none"};return t&&(r={type:"element",data:t}),n&&(r={type:o?"html":"text",data:n}),{content:r,...i}}},384295:(e,t,o)=>{"use strict";o.d(t,{CmEvent:()=>n,trackCmEvent:()=>s});var n,i=o(719718);!function(e){
e.PageView="visit",e.RegistrationCompleted="signup",e.TrialSignUp="trial",e.PaidPlanAcquired="psub"}(n||(n={}));const r=(e,t)=>`https://ad.doubleclick.net/ddm/activity/src=13919399;type=${e===n.PaidPlanAcquired?"wsales":"wcount"};cat=${e};${t?`cost=${t};`:""}u27=${function(e="_sp_"){const t=new RegExp(e+"id\\.[a-f0-9]+=([^;]+);?"),o=document.cookie.match(t);return o&&o[1]?o[1].split(".")[0]:""}()};u28=${window.user.id};dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=;npa=;ord=${1e3*Math.random()}?`;function s(e,t){(0,i.createImage)(r(e,t))}},641261:(e,t,o)=>{"use strict";o.d(t,{GTagEvent:()=>u,trackGTagAdsEvent:()=>h});var n=o(251954),i=o(261030),r=o(314802),s=o(638456),a=o(588948),c=o(691805),d=o(719718);let l=!1;var u;function m(){l||!(0,d.adwordsAnalyticsEnabled)()||(0,r.isOnMobileAppPage)("any")||s.CheckMobile.iOS()||((0,a.updateInitData)(),(0,a.getInitData)().gadwId&&(l=!0,(0,c.appendScript)(`https://www.googletagmanager.com/gtag/js?id=${(0,a.getInitData)().gadwId}`),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},window.gtag("js",new Date),window.gtag("consent","default",{ad_storage:(0,i.getCookieSetting)(i.CookieSettings.Advertising)?"granted":"denied"}),window.gtag("config",(0,a.getInitData)().gadwId),n.subscribe(i.cookieSettingsChangeEvent,((e,t)=>{e===i.CookieSettings.Advertising&&window.gtag("consent","update",{ad_storage:t?"granted":"denied"})}),null)))}function h(e,t={}){if(m(),!l)return;const o=(0,a.getInitData)().gadwId;window.gtag("event","conversion",{send_to:`${o}/${e}`,user_id:window.user.id,...t})}!function(e){e.PageView="kwnRCP6AwqsBEOTvvuED",e.TrialSignUp="6_gCCOyejsACEK3sq6gB",e.RegistrationCompleted="JzYhCIOr578CEK3sq6gB",e.PaidPlanAcquired="ca8iCNrG578CEK3sq6gB"}(u||(u={}))},62374:(e,t,o)=>{"use strict";o.d(t,{evercookie:()=>i});o(30707);var n=o(66974);const i=new window.evercookie({domain:(0,n.isProd)()?".tradingview.com":location.hostname,lso:!1})},799786:(e,t,o)=>{"use strict";o.r(t),o.d(t,{Modifiers:()=>r.Modifiers,createGroup:()=>n.createGroup,keyboardPressedKeysState:()=>n.keyboardPressedKeysState,pressedKeys:()=>n.pressedKeys,registerWindow:()=>n.registerWindow,unregisterWindow:()=>n.unregisterWindow});var n=o(233346),i=o(764250),r=o(591800),s=o(345848);(0,n.registerWindow)(window),i.ActionGroup.setMatchedHotkeyHandler((e=>{(0,s.trackEvent)("Keyboard Shortcuts",(0,r.humanReadableHash)(e))}))},345848:(e,t,o)=>{"use strict";o.d(t,{disableTrackingEvents:()=>d,trackEvent:()=>c});var n=o(251954),i=o(77122);const r=(0,o(201089).getLogger)("Common.TrackEvent"),s=[/Study_(Drawing)_(.*)/,/(Study)_(.*)@tv-basicstudies/,/(Study)_(.*)/,/(Chart Style) (.*)/];let a=!1;const c=(e,t,o)=>{if(a)return;if(i.enabled("charting_library_base"))return void((e,t,o)=>{t=t||e||o||"";let i="";for(let e=0;e<s.length;e++){const o=t.match(s[e]);if(o&&3===o.length){t=o[1],i=o[2];break}}(0,n.emit)(t.toLowerCase().replace(" ","_"),{category:e,label:o,value:i})})(e,t,o);let c=(e?e+":":"")+t;o&&(c+=" "+o),r.logNormal(c),
i.enabled("widget")||!window._UNIT_TESTS&&window.gtag&&window.gtag("event",t,{event_category:e,event_label:o})};function d(){a=!0}"undefined"!=typeof window&&(window.TradingView=window.TradingView||{},window.TradingView.trackEvent=c)},226722:(e,t,o)=>{"use strict";o.r(t),o.d(t,{TVXWindowEvents:()=>s,getScopedTVXWindowEvents:()=>a});o(586463);var n=o(201089),i=o(49437);const r=(0,n.getLogger)("XWindowEvents");var s;function a(e){return{on:(t,o)=>s.on(`${e}.${t}`,o),off:(t,o)=>s.off(`${e}.${t}`,o),emit:(t,o)=>s.emit(`${e}.${t}`,o)}}!function(e){const t="tvxwevents.",o={};let n;window.BroadcastChannel?(n=new BroadcastChannel("tvxwevents"),n.addEventListener("message",(function(e){const{data:{event:t,value:n}}=e;o[t]&&o[t].forEach((e=>{e(n)}))})),function(){const e=[],o=performance.now();for(let o=0;o<i.TVLocalStorage.length;o++){const n=i.TVLocalStorage.key(o);n.startsWith(t)&&e.push(n)}const n=i.TVLocalStorage.length;for(const t of e)i.TVLocalStorage.removeItem(t);const s=performance.now()-o;r.logNormal(`Total keys amount in local storage on operation start: ${n}`),r.logNormal(`Keys amount in local storage to be deleted: ${e.length}`),r.logNormal(`Keys to be deleted from local storage: ${JSON.stringify(e)}`),r.logNormal(`Removing keys from local storage took ${s} ms`)}()):window.addEventListener("storage",(function(e){const{newValue:n,key:r}=e;if(null===n||!r||!r.startsWith(t))return;const s=r.substring(t.length);o[s]&&o[s].forEach((t=>{t(e.newValue)}));i.TVLocalStorage.removeItem(r)})),e.on=function(e,t){o[e]||(o[e]=[]),o[e].push(t)},e.off=function(e,t){if(!o[e])return;const n=o[e].indexOf(t);-1!==n&&(1===o[e].length?delete o[e]:o[e].splice(n,1))},e.emit=function(e,o=Date.now()){try{n?n.postMessage({event:e,value:o}):i.TVLocalStorage.setItem(t+e,o.toString())}catch(e){r.logError(e.message)}}}(s||(s={}))},461794:(e,t,o)=>{e=o.nmd(e),TradingView.cleanButAmpersand=function(e,t){var o=t?["&amp;"]:["&"];return TradingView.clean(e,t,o)},TradingView.strip_tags=function(e){return e&&e.replace?e.replace(/(<([^>]+)>)/gi,""):e},TradingView.encodeSpread=function(e){return encodeURIComponent(e)},TradingView.clean=function(e,t,o){var n=[["&","&amp;"],["<","&lt;"],[">","&gt;"],['"',"&quot;"],["'","&#039;"],["'","&#39;"]],i=e;if(!e||!e.replace)return i;for(var r=0;r<n.length;r++){var s=n[r][0],a=n[r][1];o&&o.indexOf&&-1!==o.indexOf(t?a:s)||(i=t?i.replace(new RegExp(a,"g"),s):i.replace(new RegExp(s,"g"),a))}return i},e&&e.exports&&(e.exports={clean:TradingView.clean,cleanButAmpersand:TradingView.cleanButAmpersand,stripTags:TradingView.strip_tags})},588881:(e,t,o)=>{"use strict";o.r(t);var n=o(226722),i=o(345848),r=o(120780),s=o(924335),a=o(534909),c=o(541558),d=o(66974),l=o(49437),u=o(201089);const m=(0,u.getLogger)("Common.Evercookie");var h=o(62374);const p=(0,u.getLogger)("Common.Evercookie"),w=/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;class g{constructor(){this._cookieName="tv_ecuid",this._env=null,this.check=()=>{
if(this._isEcNotAvailable()||l.TVLocalStorage.getItem("_tv_ec_ignore_username")===window.user.username)return;const e=window.user.id;this._getEcUids().catch((e=>{p.logWarn(`Error thrown inside getEcUids(). Leave evercookie data untouched. User: ${window.user.username} (${window.user.id})\nActual error: ${e}`)})).then((t=>{if(void 0===t)return void p.logWarn(`getEcUids() returned no data. Leave evercookie data untouched. User: ${window.user.username} (${window.user.id})`);let n=t.localEcUid;const i=t.remoteEcUids;n&&w.test(n)||(n=(0,c.guid)(),h.evercookie.set(this._cookieName,n));const s=t=>{t.subscription_canceled&&Promise.all([o.e(62253),o.e(92191),o.e(33199),o.e(61298),o.e(91662),o.e(5757),o.e(962),o.e(18932)]).then(o.bind(o,946622)).then((e=>e.createTrialCanceledDialog())),e===window.user.id&&t.is_suspicious?l.TVLocalStorage.setItem("is_suspicious","1"):l.TVLocalStorage.removeItem("is_suspicious")};i&&0!==i.length&&-1!==i.indexOf(n)||e!==window.user.id||function(e){const t=new FormData;return t.append("ecuid",e),(0,r.fetch)("/accounts/set-ecuid/",{body:t,credentials:"include",method:"POST"}).then((e=>{if(e.ok)return e.json().catch((e=>{m.logWarn(`Error in reponse.json() of /accounts/set-ecuid/. User: ${window.user.username} (${window.user.id})\nActual error: ${e}`)}));throw new Error("Unable to set remote ecuids. Response was not OK")}))}(n).then(s)})).catch((e=>{p.logError(e.message+` User: ${window.user.username} (${window.user.id})`)}))},this._isEcNotAvailable()||(this._env=(0,d.environment)(),(0,d.isDebug)()&&(this._cookieName+="_"+this._env))}_isEcNotAvailable(){return TradingView.onWidget&&TradingView.onWidget()||!window.user}_getLocalEcUid(){return new Promise((e=>{h.evercookie.get(this._cookieName,(t=>{e(t)}))}))}_getEcUids(){return new Promise(((e,t)=>{let o;this._getLocalEcUid().then((e=>(o=e,function(e){return new Promise(((t,o)=>{const n=new FormData;e&&n.append("local_ecuid",e),(0,r.fetch)("/accounts/get-ecuid/",{body:n,credentials:"include",method:"POST"}).then((e=>{if(e.ok)return e.json().catch((e=>{m.logWarn(`Error in reponse.json() of /accounts/get-ecuid/. User: ${window.user.username} (${window.user.id})\nActual error: ${e}`)}));throw new Error("Unable to get remote ecuids. Response was not OK")})).then((e=>{t(e)})).catch((e=>{o(e)}))}))}(e)))).then((t=>{if(void 0===t)throw new Error(`getRemoteEcUids() returned no response. User: ${window.user.username} (${window.user.id})`);e({localEcUid:o,remoteEcUids:t.ecuids})})).catch((e=>{t(e)}))}))}}var f=o(252458);document.addEventListener("DOMContentLoaded",(()=>{document.addEventListener("click",(e=>{const t=e.target.closest(".js-profile-message");t instanceof HTMLElement&&(e.preventDefault(),function(e){const t=e.dataset.username;window.runOrSignIn((()=>(0,f.openPMDialog)(t)),{source:"Private message from broker popup",verifiedPhoneRequired:!0})}(t))}))}));var v=o(781666),_=o(638456),y=o(314802),b=o(799786),E=o(860037);var k=o(251954),S=o(309103),L=o(49336);function C(e,t="x"){let o=!1;return"x"!==t&&"both"!==t||(o=o||e.offsetWidth<e.scrollWidth),
"y"!==t&&"both"!==t||(o=o||e.offsetHeight<e.scrollHeight),o}function T(e,t="x"){for(const o of Array.from(e.children))if(o instanceof HTMLElement&&(C(o,t)||T(o,t)))return!0;return!1}function D(e){let t="x";return e.matches(".apply-overflow-tooltip--direction_both")?t="both":e.matches(".apply-overflow-tooltip--direction_y")&&(t="y"),t}function x(e){const t=e.getAttribute("data-overflow-tooltip-text");let o="";return o=t||(e.matches&&e.matches(".apply-overflow-tooltip--allow-text")?e.textContent||"":Array.from(e.childNodes).reduce(((e,t)=>(t.nodeType===Node.TEXT_NODE&&e.push(t.textContent||""),e)),[]).join("").trim()),o}function N(e,t){let o=!1;const n=e.children;for(let e=0;e<n.length;e++){const i=n[e];if(i instanceof HTMLElement&&C(i,t)){o=!0;break}}return o}(0,L.whenDocumentReady)((()=>{document.addEventListener("mouseenter",(e=>{const t=e.target;if(t instanceof HTMLElement&&t.matches(".apply-overflow-tooltip")){const e=D(t);if(t.matches(".apply-overflow-tooltip--check-children-recursively")){if(!T(t,e))return}else if(t.matches(".apply-overflow-tooltip--check-children")){if(!N(t,e))return}else if(!C(t,e))return;(0,S.showOnElement)(t,{text:x(t)});const o=()=>{(0,S.hide)(),["mouseleave","mousedown"].forEach((e=>t.removeEventListener(e,o)))};["mouseleave","mousedown"].forEach((e=>t.addEventListener(e,o)))}}),!0),document.addEventListener("focus",(e=>{const t=e.target;if(t instanceof HTMLElement&&(t.matches(".apply-overflow-tooltip-focus")||t.querySelector(".apply-overflow-tooltip-focus"))){const e=t.matches(".apply-overflow-tooltip")?t:t.querySelector(".apply-overflow-tooltip"),o=D(e);if(e.matches(".apply-overflow-tooltip--check-children-recursively")){if(!T(e,o))return}else if(e.matches(".apply-overflow-tooltip--check-children")){if(!N(e,o))return}else if(!C(e,o))return;(0,S.showOnElement)(t,{text:x(e)});const n=()=>{(0,S.hide)(),t.removeEventListener("blur",n)};t.addEventListener("blur",n)}}),!0)}));var M=o(707957),V=o(173278),P=o(329806),A=o(402243);var O=o(392896),B=o(641261),$=o(665343),H=o(384295);let I,W;function K(){if(window.initData.lfs){const e=document.getElementsByClassName("js-admin-warning")[0];document.body.removeChild(e)}let e=!0;[/^\/chart\//,/^\/share-your-love\//].forEach((t=>{t.test(window.location.pathname)&&(e=!1)})),e&&window.location.reload()}function U(e){window.user=(0,P.deepExtend)({},e),window.TradingView.changeLoginState(!0)}function X(e){const t=window.user.available_offers||{};{const e=document.documentElement;e.classList.toggle("is-authenticated",window.is_authenticated),e.classList.toggle("is-not-authenticated",!window.is_authenticated)}window.TVSettings&&window.TVSettings.sync(window.user.settings),window.is_authenticated?(e&&!1!==window.user.profile_data_filled||void 0===W||W.check(),e||(Promise.all([o.e(20941),o.e(962),o.e(19158)]).then(o.bind(o,444139)).then((e=>e.offerButtonLoginStateChangeInit())),(0,_.onGoPro)()&&window.location.reload()),!1===window.user.profile_data_filled&&((0,_.checkPageType)("mobile")||(0,
y.isOnMobileAppPage)("any")||window.location.pathname.startsWith("/privacy-policy")||window.location.pathname.startsWith("/policies")||(0,L.whenDocumentReady)((()=>{(0,v.showSignModal)({mode:"create-account",onUnmountEvent:()=>{window.user.social_registration?(o.e(22947).then(o.bind(o,113452)).then((({registrationEvent:e})=>{e("Social")})),(0,B.trackGTagAdsEvent)(B.GTagEvent.RegistrationCompleted),(0,$.trackTwitterEvent)($.TwitterEvent.RegistrationCompleted),(0,H.trackCmEvent)(H.CmEvent.RegistrationCompleted),delete window.user.social_registration):n.TVXWindowEvents.emit("loginStateChange",JSON.stringify({is_authenticated:window.is_authenticated,user:window.user}))}})}),!0),(0,i.trackEvent)("Conversion","First login"),delete window.user.profile_data_filled),window.TradingView.setTrialAvailiable(void 0!==t[s.OFFERS.trial])):(Object.keys(t).forEach((e=>{const o=e;t[o].available_for_anons||delete t[o]})),window.user={username:"Guest",following:"0",followers:"0",ignore_list:[],available_offers:t},l.TVLocalStorage.removeItem("trial_availiable"))}I=window.loginStateChange?window.loginStateChange:window.loginStateChange=new M.Delegate,I.subscribe(null,X),(0,b.createGroup)({desc:"Support"}).add({desc:"Open",hotkey:b.Modifiers.Mod+191,handler:()=>(0,E.showSupportDialog)({initialState:"shortcuts"})}),n.TVXWindowEvents.on("loginStateChange",(e=>{const t=JSON.parse(e);window.user=t.user,window.is_authenticated=!!t.is_authenticated,I.fire()})),n.TVXWindowEvents.on("signOut",(()=>{K()})),(()=>{const e="user-obj-changed",t={};window.crossTabSyncUserAttr=t=>{const o={};t instanceof Array?t.forEach((e=>{o[e]=window.user[e]})):o[t]=window.user[t],n.TVXWindowEvents.emit(e,JSON.stringify(o))},n.TVXWindowEvents.on(e,(e=>{const o=JSON.parse(e);let n;for(n in o)if(o.hasOwnProperty(n)){window.user[n]=o[n];(t[n]||[]).forEach((e=>{e.fire(o[n])}))}}))})(),window.TradingView.changeLoginState=e=>{window.is_authenticated=!!e,n.TVXWindowEvents.emit("loginStateChange",JSON.stringify({is_authenticated:window.is_authenticated,user:window.user})),I.fire(),window.is_authenticated&&k.emit(V.GLOBAL_EVENT_SIGN_IN_SUCCESS)},window.loginUser=U,window.addEventListener("storage",(e=>{"login_user"===e.key&&null!==e.newValue&&U(JSON.parse(e.newValue))})),window.TradingView.signOut=()=>{const e={...window.user};(0,r.fetch)("/accounts/logout/",{method:"POST",headers:{accept:"html"},credentials:"same-origin"}).then((()=>{window.TradingView.changeLoginState(!1),n.TVXWindowEvents.emit("signOut"),K()})).catch((()=>{window.user=e,window.TradingView.changeLoginState(!0)}))},W=new g,window.loginRequiredDelegate=new M.Delegate,window.runOrSignIn=(e,t)=>{t||(t={});const o=[];if(t.paidAccountCheck&&o.push((()=>(0,O.paidAccountCheck)({successButtonText:t.paidAccountSuccessButtonText}))),t.verifiedPhoneRequired){const e=()=>Promise.resolve((0,A.whenVerified)({showDialog:!0,source:t.source,doNotCheckSuspicious:t.doNotCheckSuspicious,doNotCheckSocialActivity:t.doNotCheckSocialActivity,customPhoneCheck:t.customPhoneCheck,doNotShowConfirmation:t.doNotShowConfirmation,
isSuspiciousCountry:t.isSuspiciousCountry}));o.push(e)}window.is_authenticated?o.reduce(((e,t)=>e.then(t)),Promise.resolve()).then(e).catch((()=>{})):(0,v.showSignModal)({source:t.source,sourceMeta:t.sourceMeta,feature:t.feature,mode:t.mode,signinSuccess:e,startTrial:t.startTrial,onUnmountEvent:t.onUnmountEvent})},window.is_authenticated&&n.TVXWindowEvents.on("user-status-declared",(e=>{window.user.declared_status=e})),window.onLoginStateChange=X,window.TradingView.setTrialAvailiable=e=>{l.TVLocalStorage.setItem("trial_availiable",e?"1":"0")},window.TradingView.notificationsChanged=new M.Delegate,(0,a.install)()},924335:(e,t,o)=>{"use strict";o.d(t,{LastChanceType:()=>r,OFFERS:()=>n,OfferKind:()=>i});const n={trial:"trial",early_access:"early_access",black_friday:"black_friday",cyber_monday:"cyber_monday",custom_discount:"custom_discount",longer_cycle:"longer_cycle",upgrade:"upgrade",extend:"extend",last_chance:"last_chance",one_usd:"one_usd",three_months:"three_months",six_months:"six_months",coupon:"coupon"},i={early_access:"early_access",black_friday:"black_friday",last_chance:"last_chance",one_usd:"1 usd offer",three_months:"3 months offer",six_months:"six_months",custom_discount:"custom_discount"};var r;!function(e){e.TwoWeeks="LastChance_2w",e.TwoDays="LastChance_2d",e.Hours="LastChance_24h"}(r||(r={}))},252458:(e,t,o)=>{"use strict";function n(){return Promise.all([o.e(65454),o.e(59481),o.e(72639),o.e(32109),o.e(4015),o.e(13423),o.e(89842),o.e(88548),o.e(76592),o.e(54712),o.e(33371),o.e(63987),o.e(42254),o.e(42244),o.e(6744),o.e(58961),o.e(68299),o.e(11754),o.e(44861),o.e(7368),o.e(81016),o.e(962),o.e(24951),o.e(20651),o.e(10315),o.e(36647),o.e(83912),o.e(47792),o.e(57953),o.e(60146),o.e(24025)]).then(o.t.bind(o,748598,19))}function i(e,t){n().then((o=>o.noteForAuthor(e,t)))}function r(e,t){n().then((o=>o.openPMDialog(e,t)))}function s(){n().then((e=>e.newPrivateChatDialog()))}o.d(t,{newPrivateChatDialog:()=>s,noteForAuthor:()=>i,openPMDialog:()=>r})},781666:(e,t,o)=>{"use strict";o.r(t),o.d(t,{isShowPromoVideo:()=>u,isSignModalOpen:()=>l,showSignModal:()=>d});var n=o(586240),i=o(901896),r=o(490778);const s=n["media-mf-tablet-landscape"],a=n["media-mf-tablet-vertical"];let c=()=>!1;async function d(e){const t=Object.assign({},e,{isShowVideo:u()});if(window.TVD&&window.TVD.signIn)return window.TVD.signIn(t);{!function(){const e=window.matchMedia(n["media-mf-tablet-landscape"]).matches?r:i,t=document.createElement("link");t.rel="preload",t.as="image",t.href=e,document.head.appendChild(t)}();const e=await Promise.all([o.e(34157),o.e(88573),o.e(22666),o.e(62253),o.e(92191),o.e(72639),o.e(34465),o.e(32109),o.e(9817),o.e(69121),o.e(92108),o.e(88194),o.e(66639),o.e(87845),o.e(93502),o.e(76592),o.e(36884),o.e(542),o.e(6209),o.e(8740),o.e(57285),o.e(44193),o.e(84177),o.e(50651),o.e(94778),o.e(75611),o.e(46075),o.e(33849),o.e(16120),o.e(35575),o.e(962),o.e(1608),o.e(14630),o.e(59165),o.e(95560),o.e(36123)]).then(o.bind(o,646563));return c=e.isSignModalOpen,e.showSignModal(t)}}function l(){return c()}function u(){
const e=window.matchMedia(s).matches,t=window.matchMedia(a).matches,o=window.innerWidth,n=window.innerHeight;return!!e||!!t&&!(!e&&n<o)}},173278:(e,t,o)=>{"use strict";o.d(t,{GLOBAL_EVENT_SIGN_IN_SUCCESS:()=>n,showEmailKey:()=>s,signupSource:()=>i,signupSourceMeta:()=>r});const n="GLOBAL_EVENT_SIGN_IN_SUCCESS";const i="signupSource",r="signupSourceMeta",s="auto-show-email-for-signin"},860037:(e,t,o)=>{"use strict";o.d(t,{showSupportDialog:()=>n});o(659863);function n(e){return Promise.all([o.e(23788),o.e(45584),o.e(22666),o.e(5993),o.e(92191),o.e(72639),o.e(34465),o.e(32109),o.e(69121),o.e(53842),o.e(4015),o.e(88194),o.e(66639),o.e(13423),o.e(87845),o.e(48986),o.e(93502),o.e(76592),o.e(36884),o.e(542),o.e(63987),o.e(73954),o.e(61298),o.e(6209),o.e(35213),o.e(63830),o.e(8740),o.e(1888),o.e(90592),o.e(34690),o.e(73628),o.e(58961),o.e(94502),o.e(98211),o.e(55073),o.e(962),o.e(25977),o.e(23127),o.e(24951),o.e(90051),o.e(90088),o.e(38818),o.e(19482),o.e(47792),o.e(71820),o.e(54251),o.e(57274)]).then(o.bind(o,138086)).then((t=>new t.SupportDialog(e).open()))}},859261:(e,t,o)=>{"use strict";async function n(e){return(await Promise.all([o.e(18809),o.e(42867),o.e(92191),o.e(34465),o.e(32109),o.e(9817),o.e(69121),o.e(88194),o.e(66639),o.e(87845),o.e(76592),o.e(13152),o.e(542),o.e(63987),o.e(61298),o.e(35213),o.e(63830),o.e(1888),o.e(87689),o.e(97828),o.e(962),o.e(25977),o.e(1387),o.e(18934),o.e(42292),o.e(11595),o.e(68606)]).then(o.bind(o,460978))).createPhoneDialog(e)}async function i(e){return(await Promise.all([o.e(18809),o.e(42867),o.e(92191),o.e(34465),o.e(32109),o.e(9817),o.e(69121),o.e(88194),o.e(66639),o.e(87845),o.e(76592),o.e(13152),o.e(542),o.e(63987),o.e(61298),o.e(35213),o.e(63830),o.e(1888),o.e(87689),o.e(97828),o.e(962),o.e(25977),o.e(1387),o.e(18934),o.e(42292),o.e(11595),o.e(68606)]).then(o.bind(o,460978))).createEmailDialog(e)}o.d(t,{createPhoneDialog:()=>n,createSMSEmailDialog:()=>i})},392896:(e,t,o)=>{"use strict";o.d(t,{paidAccountCheck:()=>r});var n=o(49437);const i=(0,o(201089).getLogger)("PaidAccountCheck");async function r(e){const{onlyCheck:t,successButtonText:r,isNeedCancelButton:s}=e,a=window.user,c=n.TVLocalStorage.getItem("previous_username");if(a&&window.is_authenticated&&!a.is_pro&&c){const{getProfile:e}=await o.e(90254).then(o.bind(o,411858));try{const n=await e(c);if(Boolean(n.pro_plan)){if(t)return c;{const{showWrongAccountDialog:e}=await Promise.all([o.e(64641),o.e(51349),o.e(12019)]).then(o.bind(o,984799));return e({userName:c,isNeedCancelButton:s,successButtonText:r})}}}catch(e){i.logError(e.message)}}return!1}},534909:(e,t,o)=>{"use strict";async function n(e){const t=e.target.closest(".js-follow-user");if(null===t)return;const{followUserHandler:n}=await Promise.all([o.e(57285),o.e(45607)]).then(o.bind(o,999026));await n(t)}function i(){document.body.addEventListener("click",n)}o.d(t,{install:()=>i})},957879:(e,t,o)=>{const n=o(823127);e.exports=n,n(document).ajaxSend(((e,t,o)=>{
o.crossDomain&&!o.forceLanguageHeader||(window.locale?t.setRequestHeader("X-Language",window.locale):console.warn("window.locale is not defined"))}))},402243:(e,t,o)=>{"use strict";o.d(t,{getDialogDfd:()=>u,requestPhoneNumber:()=>p,verificationIsRequired:()=>m,whenVerified:()=>h});var n=o(444372),i=o(345848),r=o(859261),s=o(49437),a=o(77122),c=o(957879);let d=c.Deferred();function l(e,t){var o=TVSettings.getBool("_phone_verif_dlg_initial",!0);TVSettings.setValue("_phone_verif_dlg_initial",!1),(0,i.trackEvent)("Phone verification",e+(o?" initial":""),t)}function u(e){const t=c.Deferred();return(0,r.createPhoneDialog)({featureSource:e.source,doNotShowConfirmation:e.doNotShowConfirmation}).then((o=>{o.on("afterOpen",(()=>l("Show dialog",e.source))).on("verification:success",(o=>{t.resolve(o),l("Verified",e.source)})).on("verification:cancel",(()=>{t.reject("cancelled"),l("Cancelled",e.source)})).on("verification:codeExpired",(()=>l("Show dialog",e.source))).open()})),t}function m(e={}){return new Promise((t=>{!window.is_authenticated||user.is_staff||user.is_superuser||user.is_pro||user.is_moderator?t([!1]):e.customPhoneCheck?e.customPhoneCheck()?t([!0,"date-joined"]):t([!1]):a.enabled("phone_verification")&&!user.has_phone?e.isSuspiciousCountry?t([!0]):!0!==e.doNotCheckSocialActivity?t([!0,"date-joined"]):(!0!==e.doNotCheckSuspicious&&t([Boolean(s.TVLocalStorage.getItem("is_suspicious")),"suspicious"]),t([!0,"default"])):t([!1])}))}function h(e={}){const t=c.Deferred();return m({doNotCheckSuspicious:e.doNotCheckSuspicious,doNotCheckSocialActivity:e.doNotCheckSocialActivity,customPhoneCheck:e.customPhoneCheck,isSuspiciousCountry:e.isSuspiciousCountry}).then((([i,r])=>{if(!i)return d.resolve(),t.resolve();if(i&&e.silentPhoneVerification)return t.reject("phone_verification_required");if(!e.showDialog)return d.done((()=>t.resolve()));const s={source:e.source,doNotShowConfirmation:e.doNotShowConfirmation};"suspicious"!==r&&(s.topMessage=n.t(null,void 0,o(236640))),u(s).done((()=>t.resolve())).always((()=>t.reject("phone_verification_declined")))})).catch((e=>e)),t.promise()}function p(e={}){return new Promise(((t,o)=>{u(e).done(t).always(o)}))}window.loginStateChange&&loginStateChange.subscribe(null,(()=>{window.is_authenticated&&(d=c.Deferred(),m().then((([e,t])=>{e||d.resolve()})))}))},329806:(e,t,o)=>{"use strict";function n(e,...t){return e&&"object"==typeof e?(0===t.length||t.forEach((t=>{null!=t&&"object"==typeof t&&Object.keys(t).forEach((o=>{const r=e[o],s=t[o];if(s===e)return;const a=Array.isArray(s);if(s&&(i(s)||a)){let t;t=a?r&&Array.isArray(r)?r:[]:r&&i(r)?r:{},e[o]=n(t,s)}else void 0!==s&&(e[o]=s)}))})),e):e}function i(e){if(!e||"[object Object]"!==Object.prototype.toString.call(e))return!1;const t=Object.getPrototypeOf(e);if(!t)return!0;const o=Object.hasOwnProperty.toString,n=t.hasOwnProperty("constructor")&&t.constructor;return"function"==typeof n&&o.call(n)===o.call(Object)}o.d(t,{deepExtend:()=>n})},571690:(e,t,o)=>{"use strict";o.d(t,{parseHtml:()=>i,parseHtmlElement:()=>r});const n=new WeakMap
;function i(e,t){let o,i;return o=null==t?document.documentElement:9===t.nodeType?t.documentElement:t,n&&(i=n.get(o)),i||(i=o.ownerDocument.createRange(),i.selectNodeContents(o),n&&n.set(o,i)),i.createContextualFragment(e)}function r(e,t){const o=i(e,t),n=o.firstElementChild;return null!==n&&o.removeChild(n),n}},777466:(e,t,o)=>{"use strict";function n(e){e.preventDefault()}o.d(t,{preventDefault:()=>n,preventDefaultForContextMenu:()=>r});const i=["input:not([type])",'input[type="text"]','input[type="email"]','input[type="password"]','input[type="search"]','input[type="number"]','input[type="url"]',"textarea","a[href]",'*[contenteditable="true"]',"[data-allow-context-menu]"];function r(e){const t=e.target;t&&!t.closest(i.join(", "))&&e.preventDefault()}},490778:(e,t,o)=>{"use strict";e.exports=o.p+"desktop.48bb0acc31aeb2422416.webp"},901896:(e,t,o)=>{"use strict";e.exports=o.p+"tablet.5ed26c209de7e1b5845d.webp"},586240:e=>{"use strict";e.exports=JSON.parse('{"size-header-height":"64px","size-nav-header-height":"58px","size-sticky-symbol-header-height":"64px","size-dialog-fixed-header-height":"72px","media-phone":"screen and (max-width: 767px)","media-phone-vertical":"screen and (max-width: 479px)","media-mf-legacy-phone":"screen and (min-width: 480px)","media-mf-legacy-notebook":"screen and (min-width: 1020px)","media-mf-phone-vertical":"screen and (min-width: 320px)","media-mf-phone-landscape":"screen and (min-width: 568px)","media-mf-tablet-vertical":"screen and (min-width: 768px)","media-mf-tablet-landscape":"screen and (min-width: 1024px)","media-mf-laptop":"screen and (min-width: 1280px)","media-mf-desktop-medium":"screen and (min-width: 1440px)","media-mf-desktop-large":"screen and (min-width: 1920px)","media-mf-desktop-extra-large":"screen and (min-width: 2560px)","z-index-sticky-search-bar":101}')}}]);